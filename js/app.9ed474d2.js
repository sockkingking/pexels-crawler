(function(e){function t(t){for(var r,o,i=t[0],c=t[1],s=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},l=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/pexels-crawler/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:"",flat:""}},[a("div",{staticClass:"d-flex align-center"},[a("h2",[e._v("Crawl Data")])]),a("v-spacer")],1),a("v-main",[a("Crawler")],1)],1)},l=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-snackbar",{attrs:{timeout:e.timeout,color:"error",outlined:"",centered:"",absolute:"",top:"",width:"800"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[a("v-btn",e._b({attrs:{color:"error",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.textError)+" ")])],1)],1),a("v-row",{staticClass:"text-center mt-10",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Search","hide-details":"auto",rules:e.ruleText,pattern:"[A-Za-z]"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("v-text-field",{staticClass:"mt-5",attrs:{label:"Page size : max 80","hide-details":"auto",disabled:"",rules:e.rulesNumb},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),a("v-text-field",{staticClass:"mt-5",attrs:{label:"Page Start","hide-details":"auto",rules:e.rulesNumb},model:{value:e.pageStart,callback:function(t){e.pageStart=t},expression:"pageStart"}}),a("v-text-field",{staticClass:"mt-5",attrs:{label:"Page End","hide-details":"auto",rules:e.rulesNumb},model:{value:e.pageEnd,callback:function(t){e.pageEnd=t},expression:"pageEnd"}}),a("v-text-field",{staticClass:"mt-5",attrs:{label:"File name","hide-details":"auto",rules:e.ruleText},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),a("v-text-field",{staticClass:"mt-5",attrs:{label:"ID","hide-details":"auto",rules:e.ruleText},model:{value:e.tokenId,callback:function(t){e.tokenId=t},expression:"tokenId"}}),a("v-btn",{staticClass:"mt-6",attrs:{depressed:"",color:"primary",disabled:!e.valid,loading:e.loading},on:{click:e.exportExcel}},[e._v("Download "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-download ")])],1)],1)],1)],1)],1)},i=[],c=a("1da1"),s=(a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("d81d"),a("6062"),a("ac1f"),a("841c"),a("1276"),a("5319"),a("96cf"),a("de69")),u=a("2e92"),d={name:"Crawler",data:function(){return{loading:!1,fileName:"",textError:"Connect error @@ .  ID is incorrect !!",timeout:3500,snackbar:!1,disableDownload:!0,valid:!0,keyword:"",pageSize:80,pageStart:1,pageEnd:10,tokenId:"",rulesNumb:[function(e){return!!e||"Required."},function(e){return e>0||"Should be large than 1"}],ruleText:[function(e){return!!e||"Required."},function(e){return e.length>=2||"Min 2 characters"}]}},methods:{validate:function(){this.$refs.form.validate()},exportExcel:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,setTimeout((function(){e.downloadExcel().then((function(t){var a=e.fileName,r="xls";Object(u["a"])({data:t,fileName:a,exportType:r}),e.loading=!1})).catch((function(){e.snackbar=!0,e.loading=!1}))}),1e3);case 3:case"end":return t.stop()}}),t)})))()},downloadExcel:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=16;break}return t.prev=1,t.next=4,Promise.all(e.getDataByPages());case 4:a=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.snackbar=!0;case 10:return r=[],a.forEach((function(t){var a=t.photos.map((function(t){var a=e.extractTitleFromUrl(t),r=t.src.portrait;return{Title:a,URL:r}}));Array.prototype.unshift.apply(r,a)})),n=new Set,l=[],r.forEach((function(e){n.has(e.URL)||(n.add(e.URL),l.push(e))})),t.abrupt("return",l);case 16:case"end":return t.stop()}}),t,null,[[1,7]])})))()},getDataByPages:function(){var e=Object(s["a"])(this.tokenId),t=this.keyword,a=this.pageSize,r=this.pageStart,n=this.pageEnd,l=[];if(n<r)return this.snackbar=!0,null;for(var o=r;o<=n;o++){var i=e.photos.search({query:t,per_page:a,page:o});l.push(i)}return l},extractTitleFromUrl:function(e){var t=" ",a=e.url,r=e.id,n=a.split("/"),l=n[n.length-2];return l.replace("-".concat(r),"").replace(/[^a-zA-Z0-9]/g,t)}},mounted:function(){this.validate()}},p=d,f=a("2877"),v=a("6544"),b=a.n(v),m=a("8336"),h=a("62ad"),g=a("a523"),x=a("4bd4"),k=a("132d"),w=a("0fd9"),y=a("2db4"),S=a("8654"),C=Object(f["a"])(p,o,i,!1,null,null,null),_=C.exports;b()(C,{VBtn:m["a"],VCol:h["a"],VContainer:g["a"],VForm:x["a"],VIcon:k["a"],VRow:w["a"],VSnackbar:y["a"],VTextField:S["a"]});var j={name:"PexelsCrawler",components:{Crawler:_},data:function(){return{}}},O=j,E=a("7496"),P=a("40dc"),T=a("f6c4"),V=a("2fa4"),N=Object(f["a"])(O,n,l,!1,null,null,null),R=N.exports;b()(N,{VApp:E["a"],VAppBar:P["a"],VMain:T["a"],VSpacer:V["a"]});var z=a("f309");r["a"].use(z["a"]);var I=new z["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:I,render:function(e){return e(R)}}).$mount("#app")}});
//# sourceMappingURL=app.9ed474d2.js.map